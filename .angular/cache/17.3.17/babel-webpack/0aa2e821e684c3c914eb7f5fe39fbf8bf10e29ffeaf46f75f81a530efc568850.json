{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { RouterOutlet, RouterLink, RouterLinkActive } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n// Angular Material imports\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDividerModule } from '@angular/material/divider';\n// Error handling imports\nimport { ErrorHandlerComponent } from './shared/components/error-handler/error-handler.component';\nlet AppComponent = class AppComponent {\n  constructor(router) {\n    this.router = router;\n    this.title = 'IFRS 15 Revenue Recognition';\n    this.isMenuOpen = false;\n    this.currentRoute = '';\n    this.destroy$ = new Subject();\n    // Global error handling properties\n    this.globalError = null;\n    this.errorSeverity = 'error';\n    this.lastAction = null;\n  }\n  ngOnInit() {\n    // Track route changes for active navigation highlighting\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd), takeUntil(this.destroy$)).subscribe(event => {\n      this.currentRoute = event.url;\n      // Close mobile menu on route change\n      this.isMenuOpen = false;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  /**\n   * Toggle mobile navigation menu\n   */\n  toggleMobileMenu() {\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n  /**\n   * Close mobile menu (used when clicking outside or on overlay)\n   */\n  closeMobileMenu() {\n    this.isMenuOpen = false;\n  }\n  /**\n   * Check if current route matches the given path\n   */\n  isActiveRoute(path) {\n    return this.currentRoute.startsWith(path);\n  }\n  /**\n   * Handle user logout\n   */\n  onLogout() {\n    // TODO: Implement logout logic\n    console.log('Logout clicked');\n    // Example: this.authService.logout();\n    // this.router.navigate(['/login']);\n  }\n  /**\n   * Navigate to user profile\n   */\n  onProfile() {\n    // TODO: Implement profile navigation\n    console.log('Profile clicked');\n    // Example: this.router.navigate(['/profile']);\n  }\n  /**\n   * Navigate to settings\n   */\n  onSettings() {\n    // TODO: Implement settings navigation\n    console.log('Settings clicked');\n    // Example: this.router.navigate(['/settings']);\n  }\n  // Global Error Handling Methods\n  /**\n   * Show global error message\n   */\n  showError(error, severity = 'error') {\n    this.globalError = error;\n    this.errorSeverity = severity;\n  }\n  /**\n   * Dismiss current error\n   */\n  dismissError() {\n    this.globalError = null;\n    this.lastAction = null;\n  }\n  /**\n   * Set last action for retry functionality\n   */\n  setLastAction(action) {\n    this.lastAction = action;\n  }\n  /**\n   * Retry last failed action\n   */\n  retryLastAction() {\n    if (this.lastAction) {\n      this.dismissError();\n      this.lastAction();\n    }\n  }\n  /**\n   * Report error to external service\n   */\n  reportError(error) {\n    console.log('Reporting error:', error);\n    // TODO: Implement error reporting to external service\n    // Example: this.errorReportingService.report(error);\n    // Show success message\n    this.showError({\n      message: 'Erro reportado com sucesso. Nossa equipe foi notificada.',\n      code: 'ERROR_REPORTED',\n      timestamp: new Date()\n    }, 'info');\n  }\n  /**\n   * Handle global application errors\n   */\n  handleGlobalError(error) {\n    let errorInfo;\n    if (error?.error?.message) {\n      errorInfo = {\n        message: error.error.message,\n        code: error.error.code || 'API_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else if (error?.message) {\n      errorInfo = {\n        message: error.message,\n        code: error.name || 'JS_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else {\n      errorInfo = {\n        message: 'Ocorreu um erro inesperado',\n        code: 'UNKNOWN_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    }\n    this.showError(errorInfo);\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'ifrs15-root',\n  standalone: true,\n  imports: [CommonModule, RouterOutlet, RouterLink, RouterLinkActive, MatToolbarModule, MatButtonModule, MatIconModule, MatMenuModule, MatDividerModule, ErrorHandlerComponent],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n}), __metadata(\"design:paramtypes\", [Router])], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","Router","NavigationEnd","RouterOutlet","RouterLink","RouterLinkActive","CommonModule","Subject","filter","takeUntil","MatToolbarModule","MatButtonModule","MatIconModule","MatMenuModule","MatDividerModule","ErrorHandlerComponent","AppComponent","constructor","router","title","isMenuOpen","currentRoute","destroy$","globalError","errorSeverity","lastAction","ngOnInit","events","pipe","event","subscribe","url","ngOnDestroy","next","complete","toggleMobileMenu","closeMobileMenu","isActiveRoute","path","startsWith","onLogout","console","log","onProfile","onSettings","showError","error","severity","dismissError","setLastAction","action","retryLastAction","reportError","message","code","timestamp","Date","handleGlobalError","errorInfo","details","name","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Projetos\\IFRS 15\\apps\\web\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { RouterOutlet, RouterLink, RouterLinkActive } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n\n// Angular Material imports\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDividerModule } from '@angular/material/divider';\n\n// Error handling imports\nimport { ErrorHandlerComponent, ErrorInfo } from './shared/components/error-handler/error-handler.component';\n\n@Component({\n  selector: 'ifrs15-root',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterOutlet,\n    RouterLink,\n    RouterLinkActive,\n    MatToolbarModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    MatDividerModule,\n    ErrorHandlerComponent\n  ],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  title = 'IFRS 15 Revenue Recognition';\n  isMenuOpen = false;\n  currentRoute = '';\n  private destroy$ = new Subject<void>();\n\n  // Global error handling properties\n  globalError: ErrorInfo | null = null;\n  errorSeverity: 'error' | 'warning' | 'info' = 'error';\n  private lastAction: (() => void) | null = null;\n\n  constructor(private router: Router) {}\n\n  ngOnInit(): void {\n    // Track route changes for active navigation highlighting\n    this.router.events\n      .pipe(\n        filter(event => event instanceof NavigationEnd),\n        takeUntil(this.destroy$)\n      )\n      .subscribe((event: NavigationEnd) => {\n        this.currentRoute = event.url;\n        // Close mobile menu on route change\n        this.isMenuOpen = false;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  /**\n   * Toggle mobile navigation menu\n   */\n  toggleMobileMenu(): void {\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n\n  /**\n   * Close mobile menu (used when clicking outside or on overlay)\n   */\n  closeMobileMenu(): void {\n    this.isMenuOpen = false;\n  }\n\n  /**\n   * Check if current route matches the given path\n   */\n  isActiveRoute(path: string): boolean {\n    return this.currentRoute.startsWith(path);\n  }\n\n  /**\n   * Handle user logout\n   */\n  onLogout(): void {\n    // TODO: Implement logout logic\n    console.log('Logout clicked');\n    // Example: this.authService.logout();\n    // this.router.navigate(['/login']);\n  }\n\n  /**\n   * Navigate to user profile\n   */\n  onProfile(): void {\n    // TODO: Implement profile navigation\n    console.log('Profile clicked');\n    // Example: this.router.navigate(['/profile']);\n  }\n\n  /**\n   * Navigate to settings\n   */\n  onSettings(): void {\n    // TODO: Implement settings navigation\n    console.log('Settings clicked');\n    // Example: this.router.navigate(['/settings']);\n  }\n\n  // Global Error Handling Methods\n\n  /**\n   * Show global error message\n   */\n  showError(error: ErrorInfo, severity: 'error' | 'warning' | 'info' = 'error'): void {\n    this.globalError = error;\n    this.errorSeverity = severity;\n  }\n\n  /**\n   * Dismiss current error\n   */\n  dismissError(): void {\n    this.globalError = null;\n    this.lastAction = null;\n  }\n\n  /**\n   * Set last action for retry functionality\n   */\n  setLastAction(action: () => void): void {\n    this.lastAction = action;\n  }\n\n  /**\n   * Retry last failed action\n   */\n  retryLastAction(): void {\n    if (this.lastAction) {\n      this.dismissError();\n      this.lastAction();\n    }\n  }\n\n  /**\n   * Report error to external service\n   */\n  reportError(error: ErrorInfo): void {\n    console.log('Reporting error:', error);\n    // TODO: Implement error reporting to external service\n    // Example: this.errorReportingService.report(error);\n    \n    // Show success message\n    this.showError({\n      message: 'Erro reportado com sucesso. Nossa equipe foi notificada.',\n      code: 'ERROR_REPORTED',\n      timestamp: new Date()\n    }, 'info');\n  }\n\n  /**\n   * Handle global application errors\n   */\n  handleGlobalError(error: any): void {\n    let errorInfo: ErrorInfo;\n\n    if (error?.error?.message) {\n      errorInfo = {\n        message: error.error.message,\n        code: error.error.code || 'API_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else if (error?.message) {\n      errorInfo = {\n        message: error.message,\n        code: error.name || 'JS_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else {\n      errorInfo = {\n        message: 'Ocorreu um erro inesperado',\n        code: 'UNKNOWN_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    }\n\n    this.showError(errorInfo);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}