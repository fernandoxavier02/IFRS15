{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { RouterOutlet, RouterLink, RouterLinkActive } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n// Angular Material imports\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDividerModule } from '@angular/material/divider';\n// Error handling imports\nimport { ErrorHandlerComponent } from './shared/components/error-handler/error-handler.component';\nlet AppComponent = class AppComponent {\n  constructor(router) {\n    this.router = router;\n    this.title = 'IFRS 15 Revenue Recognition';\n    this.isMenuOpen = false;\n    this.currentRoute = '';\n    this.destroy$ = new Subject();\n    // Global error handling properties\n    this.globalError = null;\n    this.errorSeverity = 'error';\n    this.lastAction = null;\n  }\n  ngOnInit() {\n    // Track route changes for active navigation highlighting\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd), takeUntil(this.destroy$)).subscribe(event => {\n      this.currentRoute = event.url;\n      // Close mobile menu on route change\n      this.isMenuOpen = false;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  /**\n   * Toggle mobile navigation menu\n   */\n  toggleMobileMenu() {\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n  /**\n   * Close mobile menu (used when clicking outside or on overlay)\n   */\n  closeMobileMenu() {\n    this.isMenuOpen = false;\n  }\n  /**\n   * Check if current route matches the given path\n   */\n  isActiveRoute(path) {\n    return this.currentRoute.startsWith(path);\n  }\n  /**\n   * Handle user logout\n   */\n  onLogout() {\n    // TODO: Implement logout logic\n    console.log('Logout clicked');\n    // Example: this.authService.logout();\n    // this.router.navigate(['/login']);\n  }\n  /**\n   * Navigate to user profile\n   */\n  onProfile() {\n    // TODO: Implement profile navigation\n    console.log('Profile clicked');\n    // Example: this.router.navigate(['/profile']);\n  }\n  /**\n   * Navigate to settings\n   */\n  onSettings() {\n    // TODO: Implement settings navigation\n    console.log('Settings clicked');\n    // Example: this.router.navigate(['/settings']);\n  }\n  // Global Error Handling Methods\n  /**\n   * Show global error message\n   */\n  showError(error, severity = 'error') {\n    this.globalError = error;\n    this.errorSeverity = severity;\n  }\n  /**\n   * Dismiss current error\n   */\n  dismissError() {\n    this.globalError = null;\n    this.lastAction = null;\n  }\n  /**\n   * Set last action for retry functionality\n   */\n  setLastAction(action) {\n    this.lastAction = action;\n  }\n  /**\n   * Retry last failed action\n   */\n  retryLastAction() {\n    if (this.lastAction) {\n      this.dismissError();\n      this.lastAction();\n    }\n  }\n  /**\n   * Report error to external service\n   */\n  reportError(error) {\n    console.log('Reporting error:', error);\n    // TODO: Implement error reporting to external service\n    // Example: this.errorReportingService.report(error);\n    // Show success message\n    this.showError({\n      message: 'Erro reportado com sucesso. Nossa equipe foi notificada.',\n      code: 'ERROR_REPORTED',\n      timestamp: new Date()\n    }, 'info');\n  }\n  /**\n   * Handle global application errors\n   */\n  handleGlobalError(error) {\n    let errorInfo;\n    if (error?.error?.message) {\n      errorInfo = {\n        message: error.error.message,\n        code: error.error.code || 'API_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else if (error?.message) {\n      errorInfo = {\n        message: error.message,\n        code: error.name || 'JS_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    } else {\n      errorInfo = {\n        message: 'Ocorreu um erro inesperado',\n        code: 'UNKNOWN_ERROR',\n        details: error,\n        timestamp: new Date()\n      };\n    }\n    this.showError(errorInfo);\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'ifrs15-root',\n  standalone: true,\n  imports: [CommonModule, RouterOutlet, RouterLink, RouterLinkActive, MatToolbarModule, MatButtonModule, MatIconModule, MatMenuModule, MatDividerModule, ErrorHandlerComponent],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n}), __metadata(\"design:paramtypes\", [Router])], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}